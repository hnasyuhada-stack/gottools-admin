<!-- tool-details.html (UPDATED: same dashboard style + better layout, logic/IDs unchanged) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tool Details – GotTools Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fade-in BEFORE loading main CSS (same pattern as dashboard) -->
  <style>
    html{visibility:hidden;}
    html, body { background:#0b1220; margin:0; padding:0; }
    body { opacity:0; }
    body.fade-in { opacity:1; transition: opacity .25s ease-in; }
  </style>

  <!-- ✅ Use SAME dashboard stylesheet for consistency -->
  <link rel="stylesheet" href="css/dashboard.css" />

  <!-- ✅ Unhide ASAP -->
  <script>
    document.documentElement.style.visibility = "visible";
  </script>

  <!-- Page-only styles (premium + consistent) -->
  <style>
    .details-shell{ margin-top: 16px; }

    /* ===== Grid ===== */
    .details-grid{
      display:grid;
      grid-template-columns: 1.35fr .65fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 1100px){
      .details-grid{ grid-template-columns: 1fr; }
    }

    /* ===== Left column sub-grid: media + sections ===== */
    .left-stack{ display:flex; flex-direction:column; gap: 14px; }

    /* ===== Media Card (Carousel) ===== */
    .media-card{ padding: 0; overflow:hidden; }
    .carousel{
      border-radius: 22px;
      overflow:hidden;
      background: rgba(248,250,252,.95);
      border: 1px solid rgba(15,23,42,.10);
    }
    .carousel-hero{
      width:100%;
      height: 380px;
      object-fit: cover;
      display:block;
      background:#f3f4f6;
    }
    @media (max-width: 520px){
      .carousel-hero{ height: 280px; }
    }

    .thumbs{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      padding: 12px 12px 14px;
      background: rgba(255,255,255,.82);
      border-top: 1px solid rgba(15,23,42,.10);
    }
    .thumb{
      width:64px;
      height:64px;
      border-radius: 14px;
      object-fit: cover;
      border: 2px solid rgba(15,23,42,.08);
      background:#f3f4f6;
      cursor:pointer;
      transition: .18s ease;
    }
    .thumb:hover{ transform: translateY(-1px); box-shadow: 0 14px 28px rgba(15,23,42,.12); }
    .thumb.active{
      outline: 3px solid rgba(255,255,255,.95);
      box-shadow: 0 0 0 3px rgba(255,138,61,.22);
      border-color: rgba(255,138,61,.35);
    }

    /* ===== Header Card (Title/Price/Chips) ===== */
    .head-card .card-header{ margin-bottom: 10px; }
    .tool-title{
      font-size: 22px;
      line-height: 1.2;
      margin:0;
      font-weight: 950;
      letter-spacing:.2px;
      color: rgba(15,23,42,.92);
    }
    .subline{
      margin-top: 6px;
      font-size: 12px;
      color: rgba(100,116,139,.92);
      font-weight: 750;
    }

    .head-top{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap: 12px;
      flex-wrap: wrap;
    }

    /* Listing type badge (matches dashboard chip/pill language) */
    .tag{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 8px 12px;
      border-radius: 999px;
      font-weight: 950;
      font-size: 12px;
      letter-spacing:.2px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(248,250,252,.95);
      color: rgba(15,23,42,.90);
      text-transform: uppercase;
      white-space: nowrap;
    }
    .tag-rent{ background: rgba(34,197,94,.12); border-color: rgba(34,197,94,.20); color: rgba(22,101,52,.95); }
    .tag-swap{ background: rgba(79,195,247,.14); border-color: rgba(79,195,247,.22); color: rgba(12,74,110,.95); }
    .tag-sell{ background: rgba(255,202,40,.18); border-color: rgba(255,202,40,.26); color: rgba(120,53,15,.95); }
    .tag-free{ background: rgba(171,71,188,.14); border-color: rgba(171,71,188,.22); color: rgba(88,28,135,.95); }

    .price-row{
      display:flex;
      align-items:baseline;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .price{
      font-size: 24px;
      font-weight: 950;
      letter-spacing:.2px;
      color: rgba(15,23,42,.92);
    }
    .price-note{
      font-size: 12px;
      font-weight: 750;
      color: rgba(100,116,139,.92);
    }
    .rating{
      margin-top: 8px;
      font-size: 13px;
      font-weight: 800;
      color: rgba(15,23,42,.78);
    }

    /* Quick info chips (condition/status/visibility/deposit) */
    .chip-row{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 12px;
    }
    .mini-chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.86);
      font-size: 12px;
      font-weight: 900;
      color: rgba(15,23,42,.88);
      white-space: nowrap;
    }
    .mini-chip span{ color: rgba(100,116,139,.92); font-weight: 900; }

    /* ===== Sections (reuse dashboard card) ===== */
    .section-body{
      font-size: 13px;
      line-height: 1.65;
      color: rgba(15,23,42,.88);
      font-weight: 650;
      white-space: pre-wrap;
    }

    /* Usage guide images */
    .usage-wrap{ margin-top: 10px; }
    .usage-hero{
      width:100%;
      height: 240px;
      border-radius: 16px;
      object-fit: cover;
      background:#f3f4f6;
      border: 1px solid rgba(15,23,42,.10);
      box-shadow: 0 10px 20px rgba(15,23,42,.06);
    }
    .usage-thumbs{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .usage-thumb{
      width:56px;
      height:56px;
      border-radius: 14px;
      object-fit:cover;
      background:#f3f4f6;
      border: 1px solid rgba(15,23,42,.10);
      cursor:pointer;
      transition: .18s ease;
    }
    .usage-thumb:hover{ transform: translateY(-1px); box-shadow: 0 14px 28px rgba(15,23,42,.12); }

    /* Right column stack */
    .side-stack{ display:flex; flex-direction:column; gap: 14px; position: sticky; top: 92px; }
    @media (max-width: 1100px){
      .side-stack{ position: static; top:auto; }
    }

    .kv{
      display:grid;
      grid-template-columns: 120px 1fr;
      gap: 8px 12px;
      margin-top: 6px;
    }
    .k{
      font-size: 11px;
      letter-spacing:.08em;
      text-transform: uppercase;
      color: rgba(100,116,139,.92);
      font-weight: 900;
    }
    .v{
      font-size: 13px;
      font-weight: 800;
      color: rgba(15,23,42,.90);
      word-break: break-word;
    }

    /* Buttons */
    .btn-row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .btn-ghost-small{
      height: 38px;
      padding: 0 14px;
      border-radius: 14px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.96);
      color: rgba(15,23,42,.92);
      cursor:pointer;
      transition: .18s ease;
      font-weight: 900;
      letter-spacing:.2px;
      display:inline-flex;
      align-items:center;
      gap:10px;
      white-space: nowrap;
      text-decoration:none;
    }
    .btn-ghost-small:hover{
      transform: translateY(-1px);
      box-shadow: 0 14px 28px rgba(15,23,42,.12);
      border-color: rgba(255,138,61,.35);
    }

    /* Back link in header */
    .header-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  </style>
</head>

<body>
<div class="layout">

  <!-- SIDEBAR (dashboard style) -->
  <aside class="sidebar">
    <div class="sidebar-top">
      <div class="brand">
        <div class="brand-mark">
          <img src="img/logo.png" alt="GotTools Logo">
        </div>
        <div class="brand-text">
          <h1>GotTools? Admin</h1>
        </div>
      </div>

      <div class="sidebar-mini">
        <div class="mini-row">
          <div class="mini-avatar" style="background-image:url('img/profile.png');"></div>
          <div class="mini-info">
            <strong id="adminNameTop">Admin</strong>
            <span id="adminRoleTop">Admin</span>
          </div>
        </div>
      </div>
    </div>

    <nav class="sidebar-nav" aria-label="Sidebar Navigation">
      <a href="dashboard.html" class="sidebar-link">
        <img class="nav-ico" src="img/icons/nav-dashboard.png" alt="">
        <span>Dashboard</span>
      </a>

      <a href="reports.html" class="sidebar-link">
        <img class="nav-ico" src="img/icons/nav-reports.png" alt="">
        <span>Reports</span>
      </a>

      <a href="users.html" class="sidebar-link">
        <img class="nav-ico" src="img/icons/nav-users.png" alt="">
        <span>Users</span>
      </a>

      <a href="tools.html" class="sidebar-link">
        <img class="nav-ico" src="img/icons/nav-tools.png" alt="">
        <span>Tools / Listings</span>
      </a>

      <a href="settings.html" class="sidebar-link">
        <img class="nav-ico" src="img/icons/nav-settings.png" alt="">
        <span>Settings</span>
      </a>

      <div class="sidebar-divider"></div>

      <a href="#" class="sidebar-link danger" id="btnLogout">
        <img class="nav-ico" src="img/icons/nav-logout.png" alt="">
        <span>Log Out</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <p>GotTools? Admin Panel</p>
    </div>
  </aside>

  <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

  <!-- MAIN -->
  <main class="main">

    <!-- TOPBAR (dashboard style) -->
    <header class="topbar">
      <div class="topbar-left">
        <button class="hamburger-btn" onclick="toggleSidebar()" aria-label="Open sidebar">
          <img src="img/icons/nav-menu.png" alt="">
        </button>

        <div class="topbar-title">
          <p class="welcome">Admin view · <span class="highlight" id="adminWelcomeName">Admin</span></p>
          <h2>Tool Details</h2>
        </div>
      </div>

      <div class="topbar-right">
        <div class="header-actions">
          <button class="btn-ghost-small" type="button" onclick="history.back()">← Back</button>
          <button id="btnGoReports" class="btn-ghost-small" type="button">Open Reports</button>
        </div>
      </div>
    </header>

    <!-- CONTENT -->
    <section class="details-shell">
      <div class="details-grid">

        <!-- LEFT -->
        <div class="left-stack">

          <!-- Media / images -->
          <article class="card media-card">
            <div class="carousel">
              <img id="imgHero" class="carousel-hero" src="img/placeholder.png" alt="Tool image" />
              <div id="imgThumbs" class="thumbs"></div>
            </div>
          </article>

          <!-- Head summary -->
          <article class="card head-card">
            <div class="head-top">
              <div>
                <h2 id="txtToolName" class="tool-title">Loading…</h2>
                <div id="txtToolId" class="subline">Tool ID: -</div>
              </div>
              <div id="tagListingType" class="tag">TYPE</div>
            </div>

            <div class="price-row">
              <div id="txtToolPrice" class="price">-</div>
              <div id="txtPriceNote" class="price-note"></div>
            </div>

            <div id="txtToolRating" class="rating">⭐ -</div>

            <!-- Optional quick chips: your JS can fill these text nodes too if you want later -->
            <div class="chip-row">
              <div class="mini-chip"><span>Condition</span> <strong id="txtToolCondition">-</strong></div>
              <div class="mini-chip"><span>Status</span> <strong id="txtStatus">-</strong></div>
              <div class="mini-chip"><span>Visibility</span> <strong id="txtVisible">-</strong></div>
              <div class="mini-chip"><span>Deposit</span> <strong id="txtDeposit">-</strong></div>
            </div>
          </article>

          <!-- Description -->
          <article id="cardDescription" class="card" style="display:none;">
            <div class="card-header">
              <div>
                <h3>Description</h3>
                <small>Tool overview provided by owner</small>
              </div>
              <span class="card-pill">Info</span>
            </div>
            <div id="txtToolDescription" class="section-body"></div>
          </article>

          <!-- Swap -->
          <article id="cardSwapSection" class="card" style="display:none;">
            <div class="card-header">
              <div>
                <h3>Swap Item Requested</h3>
                <small>Shown when listing type is Swap</small>
              </div>
              <span class="card-pill">Swap</span>
            </div>
            <div id="txtSwapItem" class="section-body"></div>
          </article>

          <!-- Usage guide -->
          <article id="cardUsageGuide" class="card" style="display:none;">
            <div class="card-header">
              <div>
                <h3>Usage Guide</h3>
                <small>Text guide + images (if provided)</small>
              </div>
              <span class="card-pill">Guide</span>
            </div>

            <div id="txtUsageGuide" class="section-body" style="display:none;"></div>

            <div id="usageImagesWrap" class="usage-wrap" style="display:none;">
              <img id="usageHero" class="usage-hero" src="img/placeholder.png" alt="Usage guide image">
              <div id="usageThumbs" class="usage-thumbs"></div>
            </div>
          </article>

          <!-- Rules -->
          <article id="cardRules" class="card" style="display:none;">
            <div class="card-header">
              <div>
                <h3>Rules</h3>
                <small>Borrower rules set by owner</small>
              </div>
              <span class="card-pill">Rules</span>
            </div>
            <div id="txtToolRules" class="section-body"></div>
          </article>

          <!-- Cancellation -->
          <article id="cardCancelPolicy" class="card" style="display:none;">
            <div class="card-header">
              <div>
                <h3>Cancellation Policy</h3>
                <small>Refund/late cancellation guidance</small>
              </div>
              <span class="card-pill">Policy</span>
            </div>
            <div id="txtToolCancelPolicy" class="section-body"></div>
          </article>

          <!-- Availability -->
          <article id="cardAvailability" class="card" style="display:none;">
            <div class="card-header">
              <div>
                <h3>Availability</h3>
                <small>Date & time availability window</small>
              </div>
              <span class="card-pill">Schedule</span>
            </div>
            <div id="txtToolAvailability" class="section-body"></div>
          </article>

        </div>

        <!-- RIGHT -->
        <div class="side-stack">

          <!-- Owner -->
          <article class="card">
            <div class="card-header">
              <div>
                <h3>Owner</h3>
                <small>Account who posted this tool</small>
              </div>
              <span class="card-pill">User</span>
            </div>

            <div class="kv">
              <div class="k">Owner Name</div>
              <div id="ownerName" class="v">-</div>

              <div class="k">Owner ID</div>
              <div id="ownerId" class="v">-</div>
            </div>
          </article>

          <!-- Location -->
          <article class="card" id="cardLocation">
            <div class="card-header">
              <div>
                <h3>Location</h3>
                <small>Listing location & coordinates</small>
              </div>
              <span class="card-pill">Map</span>
            </div>

            <div class="kv">
              <div class="k">Label</div>
              <div id="txtToolLocation" class="v">-</div>

              <div class="k">Lat</div>
              <div id="txtLat" class="v">-</div>

              <div class="k">Lng</div>
              <div id="txtLng" class="v">-</div>
            </div>

            <div class="btn-row" style="margin-top:12px;">
              <a id="btnOpenMaps" class="btn-ghost-small" href="#" target="_blank" rel="noopener">Open in Maps</a>
            </div>
          </article>

        </div>

      </div>
    </section>

  </main>
</div>

<!-- Base UI JS (NO fade-in here) -->
<script>
  function toggleSidebar() {
    document.querySelector(".sidebar").classList.toggle("show");
    document.querySelector(".sidebar-overlay").classList.toggle("active");
  }

  window.addEventListener("DOMContentLoaded", () => {
    const currentPage = location.pathname.split("/").pop().split("?")[0];
    document.querySelectorAll(".sidebar-link").forEach(link => {
      if (link.getAttribute("href") === currentPage) link.classList.add("active");
    });
  });
</script>

<!-- ✅ Standardized Auth + Admin UI -->
<script type="module" src="./js/tool-details-page.js"></script>

<!-- Page logic -->
<script type="module" src="js/tool-details.js"></script>

</body>
</html>
